import{s as bt,n as at,r as ht,b as it,o as pt}from"../chunks/scheduler.BvLojk_z.js";import{S as _t,i as mt,e as f,s as A,w as ut,c as b,o as S,b as L,l as N,d as _,f as r,j as H,g as s,q as $,p as F,x as yt,r as ft,u as gt,k as tt,m as et,n as lt}from"../chunks/index.BUGUDjDu.js";import{e as dt}from"../chunks/each.D6YF6ztN.js";import{s as st,i as Ct}from"../chunks/stores.DqOuW_qB.js";function ct(o,t,u){const v=o.slice();return v[11]=t[u],v[13]=u,v}function kt(o){let t,u="A bevásárlólista üres.";return{c(){t=f("p"),t.textContent=u},l(v){t=b(v,"P",{"data-svelte-h":!0}),S(t)!=="svelte-j6mf5"&&(t.textContent=u)},m(v,p){H(v,t,p)},p:at,d(v){v&&_(t)}}}function Tt(o){let t,u,v='<tr><th scope="col" class="svelte-1vbbda2">Tétel neve</th> <th scope="col" class="svelte-1vbbda2">Mennyiség</th> <th scope="col" class="svelte-1vbbda2">Mértékegység</th> <th scope="col" class="svelte-1vbbda2">Készlet helye</th> <th scope="col" class="svelte-1vbbda2">Akciók</th></tr>',p,d,g=dt(o[1]),c=[];for(let e=0;e<g.length;e+=1)c[e]=vt(ct(o,g,e));return{c(){t=f("table"),u=f("thead"),u.innerHTML=v,p=A(),d=f("tbody");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=b(e,"TABLE",{class:!0});var h=N(t);u=b(h,"THEAD",{"data-svelte-h":!0}),S(u)!=="svelte-1pckibj"&&(u.innerHTML=v),p=L(h),d=b(h,"TBODY",{});var l=N(d);for(let q=0;q<c.length;q+=1)c[q].l(l);l.forEach(_),h.forEach(_),this.h()},h(){r(t,"class","table table-bordered svelte-1vbbda2")},m(e,h){H(e,t,h),s(t,u),s(t,p),s(t,d);for(let l=0;l<c.length;l+=1)c[l]&&c[l].m(d,null)},p(e,h){if(h&18){g=dt(e[1]);let l;for(l=0;l<g.length;l+=1){const q=ct(e,g,l);c[l]?c[l].p(q,h):(c[l]=vt(q),c[l].c(),c[l].m(d,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=g.length}},d(e){e&&_(t),gt(c,e)}}}function vt(o){let t,u,v=(o[11].item||"N/A")+"",p,d,g,c=(o[11].quantity||"N/A")+"",e,h,l,q=(o[11].unit||"N/A")+"",M,a,E,C=(o[11].store||"N/A")+"",n,O,w,m,P="Törlés",D,B,K;function R(){return o[8](o[13])}return{c(){t=f("tr"),u=f("td"),p=tt(v),d=A(),g=f("td"),e=tt(c),h=A(),l=f("td"),M=tt(q),a=A(),E=f("td"),n=tt(C),O=A(),w=f("td"),m=f("button"),m.textContent=P,D=A(),this.h()},l(k){t=b(k,"TR",{});var y=N(t);u=b(y,"TD",{class:!0});var x=N(u);p=et(x,v),x.forEach(_),d=L(y),g=b(y,"TD",{class:!0});var Y=N(g);e=et(Y,c),Y.forEach(_),h=L(y),l=b(y,"TD",{class:!0});var U=N(l);M=et(U,q),U.forEach(_),a=L(y),E=b(y,"TD",{class:!0});var I=N(E);n=et(I,C),I.forEach(_),O=L(y),w=b(y,"TD",{class:!0});var G=N(w);m=b(G,"BUTTON",{class:!0,"data-svelte-h":!0}),S(m)!=="svelte-1869ca9"&&(m.textContent=P),G.forEach(_),D=L(y),y.forEach(_),this.h()},h(){r(u,"class","svelte-1vbbda2"),r(g,"class","svelte-1vbbda2"),r(l,"class","svelte-1vbbda2"),r(E,"class","svelte-1vbbda2"),r(m,"class","btn btn-danger btn-sm svelte-1vbbda2"),r(w,"class","svelte-1vbbda2")},m(k,y){H(k,t,y),s(t,u),s(u,p),s(t,d),s(t,g),s(g,e),s(t,h),s(t,l),s(l,M),s(t,a),s(t,E),s(E,n),s(t,O),s(t,w),s(w,m),s(t,D),B||(K=F(m,"click",R),B=!0)},p(k,y){o=k,y&2&&v!==(v=(o[11].item||"N/A")+"")&&lt(p,v),y&2&&c!==(c=(o[11].quantity||"N/A")+"")&&lt(e,c),y&2&&q!==(q=(o[11].unit||"N/A")+"")&&lt(M,q),y&2&&C!==(C=(o[11].store||"N/A")+"")&&lt(n,C)},d(k){k&&_(t),B=!1,K()}}}function qt(o){let t,u="Bevásárlólista",v,p,d,g="Új tétel hozzáadása",c,e,h,l,q="Tétel neve",M,a,E,C,n,O="Mennyiség",w,m,P,D,B,K="Mértékegység",R,k,y,x,Y="Hozzáadás",U,I,G="Frissítés",J,V,nt,rt;function ot(i,T){return i[1].length>0?Tt:kt}let Q=ot(o),z=Q(o);return{c(){t=f("h1"),t.textContent=u,v=A(),p=f("div"),d=f("h2"),d.textContent=g,c=A(),e=f("form"),h=f("div"),l=f("label"),l.textContent=q,M=A(),a=f("input"),E=A(),C=f("div"),n=f("label"),n.textContent=O,w=A(),m=f("input"),P=A(),D=f("div"),B=f("label"),B.textContent=K,R=A(),k=f("input"),y=A(),x=f("button"),x.textContent=Y,U=A(),I=f("button"),I.textContent=G,J=A(),z.c(),V=ut(),this.h()},l(i){t=b(i,"H1",{"data-svelte-h":!0}),S(t)!=="svelte-1sukcvi"&&(t.textContent=u),v=L(i),p=b(i,"DIV",{class:!0});var T=N(p);d=b(T,"H2",{"data-svelte-h":!0}),S(d)!=="svelte-l8dz56"&&(d.textContent=g),c=L(T),e=b(T,"FORM",{});var j=N(e);h=b(j,"DIV",{class:!0});var W=N(h);l=b(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(l)!=="svelte-1tm2re5"&&(l.textContent=q),M=L(W),a=b(W,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),W.forEach(_),E=L(j),C=b(j,"DIV",{class:!0});var X=N(C);n=b(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(n)!=="svelte-18j6uc4"&&(n.textContent=O),w=L(X),m=b(X,"INPUT",{id:!0,type:!0,min:!0,placeholder:!0,class:!0}),X.forEach(_),P=L(j),D=b(j,"DIV",{class:!0});var Z=N(D);B=b(Z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(B)!=="svelte-1av1js8"&&(B.textContent=K),R=L(Z),k=b(Z,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Z.forEach(_),y=L(j),x=b(j,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(x)!=="svelte-11no928"&&(x.textContent=Y),j.forEach(_),T.forEach(_),U=L(i),I=b(i,"BUTTON",{class:!0,"data-svelte-h":!0}),S(I)!=="svelte-yrs4g0"&&(I.textContent=G),J=L(i),z.l(i),V=ut(),this.h()},h(){r(l,"for","item"),r(l,"class","svelte-1vbbda2"),r(a,"id","item"),r(a,"type","text"),r(a,"placeholder",""),a.required=!0,r(a,"class","svelte-1vbbda2"),r(h,"class","form-group svelte-1vbbda2"),r(n,"for","quantity"),r(n,"class","svelte-1vbbda2"),r(m,"id","quantity"),r(m,"type","number"),r(m,"min","1"),r(m,"placeholder",""),m.required=!0,r(m,"class","svelte-1vbbda2"),r(C,"class","form-group svelte-1vbbda2"),r(B,"for","unit"),r(B,"class","svelte-1vbbda2"),r(k,"id","unit"),r(k,"type","text"),r(k,"placeholder",""),k.required=!0,r(k,"class","svelte-1vbbda2"),r(D,"class","form-group svelte-1vbbda2"),r(x,"type","submit"),r(x,"class","btn btn-primary svelte-1vbbda2"),r(p,"class","new-item-form svelte-1vbbda2"),r(I,"class","btn btn-primary mb-3 svelte-1vbbda2")},m(i,T){H(i,t,T),H(i,v,T),H(i,p,T),s(p,d),s(p,c),s(p,e),s(e,h),s(h,l),s(h,M),s(h,a),$(a,o[0].item),s(e,E),s(e,C),s(C,n),s(C,w),s(C,m),$(m,o[0].quantity),s(e,P),s(e,D),s(D,B),s(D,R),s(D,k),$(k,o[0].unit),s(e,y),s(e,x),H(i,U,T),H(i,I,T),H(i,J,T),z.m(i,T),H(i,V,T),nt||(rt=[F(a,"input",o[5]),F(m,"input",o[6]),F(k,"input",o[7]),F(e,"submit",yt(o[3])),F(I,"click",o[2])],nt=!0)},p(i,[T]){T&1&&a.value!==i[0].item&&$(a,i[0].item),T&1&&ft(m.value)!==i[0].quantity&&$(m,i[0].quantity),T&1&&k.value!==i[0].unit&&$(k,i[0].unit),Q===(Q=ot(i))&&z?z.p(i,T):(z.d(1),z=Q(i),z&&(z.c(),z.m(V.parentNode,V)))},i:at,o:at,d(i){i&&(_(t),_(v),_(p),_(U),_(I),_(J),_(V)),z.d(i),nt=!1,ht(rt)}}}function Et(o,t,u){let v,p;it(o,st,a=>u(1,v=a)),it(o,Ct,a=>u(9,p=a));let d={item:"",quantity:1,unit:"",store:"Bevásárlólista"};const g=()=>{console.log("updateShoppingList függvény fut!");try{const a=p||{cleaning:[],foods:[],household:[]};console.log("Aktuális inventoryData:",a);const E=new Set(v.map(n=>`${n.item}-${n.unit}-${n.store}`)),C=[...v,...(a.cleaning||[]).filter(n=>n.quantity<2).filter(n=>!E.has(`${n.item}-${n.unit}-${n.store}`)),...(a.foods||[]).filter(n=>n.quantity<2).filter(n=>!E.has(`${n.item}-${n.unit}-${n.store}`)),...(a.household||[]).filter(n=>n.quantity<2).filter(n=>!E.has(`${n.item}-${n.unit}-${n.store}`))];console.log("Szűrt bevásárlólista:",C),st.set(C)}catch(a){console.error("Hiba a bevásárlólista frissítésekor:",a),alert("Hiba történt a bevásárlólista frissítése során.")}},c=()=>{if(!d.item||!d.unit){alert("Kérlek töltsd ki az összes mezőt!");return}st.update(a=>[...a,{...d}]),u(0,d={item:"",quantity:1,unit:"",store:"Bevásárlólista"})},e=a=>{st.update(E=>{const C=[...E];return C.splice(a,1),C})};pt(()=>{g()}),typeof window<"u"&&(window.updateShoppingList=g);function h(){d.item=this.value,u(0,d)}function l(){d.quantity=ft(this.value),u(0,d)}function q(){d.unit=this.value,u(0,d)}return[d,v,g,c,e,h,l,q,a=>e(a)]}class Bt extends _t{constructor(t){super(),mt(this,t,Et,qt,bt,{})}}export{Bt as component};
